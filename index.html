<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global AI Model Observatory 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@700;900&family=DM+Sans:wght@400;500;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'DM Sans', sans-serif; background: linear-gradient(135deg, #0a0e27 0%, #1a1147 50%, #2d1b47 100%); color: #e8e6f0; overflow-x: hidden; }
        .hero-title { font-family: 'Fraunces', serif; font-weight: 900; background: linear-gradient(135deg, #00fff2 0%, #a78bfa 50%, #f472b6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; letter-spacing: -0.03em; line-height: 1.1; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .glass-card { background: rgba(20, 20, 40, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .glass-card:hover { transform: translateY(-5px); border-color: rgba(0, 255, 242, 0.3); box-shadow: 0 10px 30px -10px rgba(0, 255, 242, 0.15); }
        .glass-strong { background: rgba(13, 17, 35, 0.85); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .score-bar-bg { background: rgba(255, 255, 255, 0.1); }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        const { Globe, Cpu, Image, Video, Mic, Search, TrendingUp, Zap, Calendar, ExternalLink } = lucide;

        const Dashboard = () => {
            const [data, setData] = useState(null);
            const [activeTab, setActiveTab] = useState('llm');
            const [isKoreanOnly, setIsKoreanOnly] = useState(false);
            const [loading, setLoading] = useState(true);

            // ë°ì´í„° ë¡œë“œ
            useEffect(() => {
                fetch('./data.json?t=' + Date.now())
                    .then(res => res.json())
                    .then(json => {
                        setData(json);
                        setLoading(false);
                    })
                    .catch(err => {
                        console.error("Data load failed:", err);
                        setLoading(false);
                    });
            }, []);

            // ì•„ì´ì½˜ ì´ˆê¸°í™”
            useEffect(() => {
                lucide.createIcons();
            }, [data, activeTab]);

            // íƒ­ ì„¤ì • (ì—ì´ì „íŠ¸ ì œê±°ë¨)
            const tabs = [
                { id: 'llm', label: 'LLM / Text', icon: <Cpu size={18} /> },
                { id: 'image', label: 'Image Gen', icon: <Image size={18} /> },
                { id: 'video', label: 'Video Gen', icon: <Video size={18} /> },
                { id: 'voice', label: 'Voice / Audio', icon: <Mic size={18} /> },
                { id: 'country', label: 'Countries', icon: <Globe size={18} /> }
            ];

            // ë°ì´í„° í•„í„°ë§
            const filteredData = useMemo(() => {
                if (!data) return [];
                if (activeTab === 'country') return data.countries || [];
                
                const key = `${activeTab}Models`;
                const models = data[key] || [];
                
                return isKoreanOnly ? models.filter(m => m.isKorean) : models;
            }, [data, activeTab, isKoreanOnly]);

            // í•œêµ­ ì„œë¹„ìŠ¤ ê°œìˆ˜ ê³„ì‚°
            const koreanServices = useMemo(() => {
                if (!data) return 0;
                let count = 0;
                ['llmModels', 'imageModels', 'videoModels', 'voiceModels'].forEach(key => {
                    if (data[key]) count += data[key].filter(m => m.isKorean).length;
                });
                return count;
            }, [data]);

            // ì ìˆ˜ ë°” ë„ˆë¹„ ê³„ì‚° (ELO ì ìˆ˜ ëŒ€ì‘)
            const getScoreWidth = (model) => {
                if (activeTab === 'country') return Math.min(100, (model.aiPower / 500)); // êµ­ê°€ë³„ íŒŒì›Œ ìŠ¤ì¼€ì¼
                if (activeTab === 'llm') return Math.min(100, model.score); // LLMì€ 100ì  ë§Œì  ê¸°ì¤€
                
                // ì´ë¯¸ì§€/ë¹„ë””ì˜¤/ìŒì„±ì€ ELO ì ìˆ˜ (ë³´í†µ 800~1300ì  ëŒ€) -> ë°±ë¶„ìœ¨ë¡œ ë³€í™˜
                // 800ì  ì´í•˜ë¥¼ 0%, 1400ì  ì´ìƒì„ 100%ë¡œ ì¡ê³  ì •ê·œí™”
                const minElo = 800;
                const maxElo = 1400;
                const percentage = ((model.score - minElo) / (maxElo - minElo)) * 100;
                return Math.max(5, Math.min(100, percentage));
            };

            const getScoreLabel = () => {
                if (activeTab === 'country') return 'AI Power Index';
                if (activeTab === 'llm') return 'Intelligence Score';
                return 'ELO Rating';
            };

            if (loading) return (
                <div className="h-screen flex items-center justify-center">
                    <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"></div>
                </div>
            );

            return (
                <div className="pb-20">
                    {/* Header */}
                    <div className="fixed top-0 w-full z-50 glass-strong">
                        <div className="container mx-auto px-6 h-20 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <div className="w-2 h-8 bg-gradient-to-b from-cyan-400 to-purple-500 rounded-full"></div>
                                <h1 className="text-xl font-bold tracking-tight">AI Observatory <span className="text-cyan-400">2026</span></h1>
                            </div>
                            <div className="hidden md:flex items-center gap-6 text-sm font-medium text-gray-400">
                                <span>Live Data</span>
                                <span>Methodology</span>
                                <a href="https://lhenism.com" className="hover:text-white transition-colors">Lhenism.com</a>
                            </div>
                        </div>
                    </div>

                    {/* Hero Section */}
                    <div className="container mx-auto px-6 pt-32 pb-12">
                        <div className="max-w-4xl">
                            <h2 className="hero-title text-5xl md:text-7xl mb-6">
                                The Intelligence<br/>Leaderboard
                            </h2>
                            <p className="text-xl text-gray-400 max-w-2xl leading-relaxed">
                                ì „ ì„¸ê³„ AI ëª¨ë¸ì˜ ì‹¤ì‹œê°„ ì„±ëŠ¥ í‰ê°€ ë° ì‹œì¥ ì ìœ ìœ¨ ë¶„ì„ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤.
                                <br className="hidden md:block"/>
                                ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë²¤ì¹˜ë§ˆí¬ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§¤ì¼ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>

                    {/* Controls */}
                    <div className="container mx-auto px-6 mb-10 sticky top-24 z-40">
                        <div className="glass p-2 rounded-2xl inline-flex flex-wrap gap-2 shadow-2xl shadow-purple-900/20">
                            {tabs.map((tab) => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`
                                        flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all duration-300
                                        ${activeTab === tab.id 
                                            ? 'bg-white text-black shadow-lg scale-105' 
                                            : 'text-gray-400 hover:text-white hover:bg-white/5'}
                                    `}
                                >
                                    {tab.icon}
                                    {tab.label}
                                </button>
                            ))}
                        </div>
                        
                        <div className="mt-4 flex items-center gap-3">
                            <button 
                                onClick={() => setIsKoreanOnly(!isKoreanOnly)}
                                className={`
                                    px-4 py-2 rounded-full text-xs font-bold border transition-all flex items-center gap-2
                                    ${isKoreanOnly 
                                        ? 'bg-blue-600 border-blue-500 text-white' 
                                        : 'border-white/10 text-gray-400 hover:border-white/30'}
                                `}
                            >
                                <span>ğŸ‡°ğŸ‡·</span> í•œêµ­ ëª¨ë¸ë§Œ ë³´ê¸°
                            </button>
                        </div>
                    </div>

                    {/* Grid Layout */}
                    <div className="container mx-auto px-6">
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {filteredData.map((item, idx) => (
                                <div key={idx} className="glass-card rounded-3xl p-6 relative group overflow-hidden">
                                    {/* Rank Badge */}
                                    <div className="absolute top-6 right-6 font-black text-4xl text-white/5 group-hover:text-white/10 transition-colors">
                                        #{item.rank}
                                    </div>

                                    {/* Header */}
                                    <div className="flex items-start gap-4 mb-6 relative z-10">
                                        {activeTab === 'country' ? (
                                            <div className="text-4xl shadow-xl">{item.flag}</div>
                                        ) : (
                                            <div 
                                                className="w-12 h-12 rounded-2xl flex items-center justify-center text-lg font-bold shadow-lg"
                                                style={{ backgroundColor: item.color + '20', color: item.color, border: `1px solid ${item.color}40` }}
                                            >
                                                {(item.name || "?")[0]}
                                            </div>
                                        )}
                                        <div>
                                            <h3 className="font-bold text-lg leading-tight mb-1 pr-8 text-white">{item.name}</h3>
                                            <div className="flex items-center gap-2 text-xs font-medium text-gray-400">
                                                <span>{item.company}</span>
                                                {item.isKorean && (
                                                    <span className="bg-blue-500/20 text-blue-300 px-1.5 py-0.5 rounded text-[10px]">KR</span>
                                                )}
                                            </div>
                                        </div>
                                    </div>

                                    {/* Score Section */}
                                    <div className="mb-6 relative z-10">
                                        <div className="flex justify-between items-end mb-2">
                                            <span className="text-xs font-bold text-gray-500 uppercase tracking-wider">{getScoreLabel()}</span>
                                            <span className="text-2xl font-bold mono" style={{ color: item.color || '#fff' }}>
                                                {activeTab === 'country' ? item.aiPower.toLocaleString() : item.score}
                                            </span>
                                        </div>
                                        <div className="h-2 w-full score-bar-bg rounded-full overflow-hidden">
                                            <div 
                                                className="h-full rounded-full transition-all duration-1000 ease-out"
                                                style={{ width: `${getScoreWidth(item)}%`, backgroundColor: item.color || '#fff' }}
                                            ></div>
                                        </div>
                                    </div>

                                    {/* Metrics Grid */}
                                    {activeTab !== 'country' && (
                                        <div className="grid grid-cols-2 gap-2 mb-6 text-xs font-medium text-gray-400">
                                            <div className="bg-white/5 p-2 rounded-lg flex flex-col gap-1">
                                                <span className="text-gray-500">Price</span>
                                                <span className="text-white">{item.price}</span>
                                            </div>
                                            <div className="bg-white/5 p-2 rounded-lg flex flex-col gap-1">
                                                <span className="text-gray-500">Usage</span>
                                                <span className="text-white">{item.usage}%</span>
                                            </div>
                                        </div>
                                    )}

                                    {/* Action Button */}
                                    {item.url && (
                                        <a 
                                            href={item.url} 
                                            target="_blank" 
                                            rel="noopener noreferrer"
                                            className="relative z-10 w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/20 transition-all text-sm font-bold text-gray-300 hover:text-white"
                                        >
                                            ìƒì„¸ ì •ë³´ ë³´ê¸° <ExternalLink size={14} />
                                        </a>
                                    )}
                                </div>
                            ))}
                        </div>

                        {/* Empty State */}
                        {filteredData.length === 0 && (
                            <div className="py-20 text-center">
                                <div className="inline-block p-4 rounded-full bg-white/5 mb-4">
                                    <Search size={32} className="text-gray-500" />
                                </div>
                                <h3 className="text-xl font-bold text-gray-300">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                                <p className="text-gray-500 mt-2">API ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì´ê±°ë‚˜ ì¡°ê±´ì— ë§ëŠ” ëª¨ë¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                            </div>
                        )}
                    </div>

                    {/* Footer Stats */}
                    <div className="container mx-auto px-6 mt-20 mb-12">
                        <div className="glass rounded-3xl p-8 md:p-12 relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl -mr-32 -mt-32"></div>
                            
                            <div className="flex flex-col md:flex-row items-center justify-between gap-8 relative z-10">
                                <div>
                                    <h3 className="text-2xl font-bold mb-2">Automated Data Pipeline</h3>
                                    <p className="text-gray-400 text-sm max-w-lg">
                                        ì´ ëŒ€ì‹œë³´ë“œëŠ” Python ê¸°ë°˜ì˜ ìë™í™” ë´‡ì´ ë§¤ì¼ Artificial Analysis, LMSYS ë“± ê¸€ë¡œë²Œ ë²¤ì¹˜ë§ˆí¬ ì‚¬ì´íŠ¸ì˜ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ê°±ì‹ í•©ë‹ˆë‹¤.
                                    </p>
                                </div>
                                <div className="text-center">
                                    <div className="inline-flex items-center gap-3 glass-strong rounded-full px-6 py-4">
                                        <div className="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                                        <span className="text-sm font-semibold">
                                            data.json ìë™ ë¡œë“œ â€¢ ì´ {koreanServices}ê°œ í•œêµ­ ì„œë¹„ìŠ¤ ê°ì§€ë¨
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="text-center mt-12 text-xs text-gray-600 font-medium tracking-wide uppercase">
                            Built with React â€¢ Artificial Analysis API v2 â€¢ Last updated: {data?.lastUpdate ? new Date(data.lastUpdate).toLocaleString('ko-KR') : '-'}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html>
